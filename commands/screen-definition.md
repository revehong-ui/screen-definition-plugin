---
description: 프로토타입 화면 위에 화면정의서(Screen Definition) 오버레이를 자동 구축합니다.
argument-hint: "[대상 프로젝트 경로]"
---

# 화면정의서 오버레이 시스템 구축

프로토타입 화면 위에 **화면정의서(Screen Definition) 오버레이**를 구축합니다.
기획자가 프로토타입을 보면서 각 컴포넌트의 정의를 바로 확인하고, 수정/삭제하며, 공유할 수 있는 도구입니다.

## 실행 방법

상세 구현 스펙은 `references/implementation-spec.md`를, 사용 가이드는 `references/guide.md`를 참조하여 구축을 진행한다.

## 작업 순서

1. 현재 프로젝트의 화면 구성 분석 (Next.js vs 순수 HTML/JS 판별)
2. 프레임워크에 맞는 파일 구조 생성
3. 섹션 데이터 작성 (기본 섹션 + 서브아이템)
4. 전역 상태 관리 구현 (영속화 포함)
5. 우측 패널 구현 (4탭 상세 + 4탭 편집 + 서브아이템 CRUD + 히스토리)
6. 번호 오버레이 구현 (보더 + 뱃지 + 클리핑 방지 + 컴포넌트 이동)
7. 내보내기 유틸 생성 (서브아이템 포함)
8. 프로토타입 페이지에 `data-sd-id` 속성 추가
9. 빌드/동작 검증

## 핵심 규칙

- 새로운 npm 패키지 불필요 (React, Lucide, Tailwind만 사용)
- 기존 프로젝트 디자인 시스템 CSS 변수 유지
- 오버레이 보더 색상은 프로젝트 키컬러와 **반드시 다른 계열** 사용
- `data-sd-id`가 있는 모든 DOM 요소에 번호 + 보더 자동 표시
- 수정/삭제 시 **히스토리 자동 기록** + Undo 지원
- 보더/뱃지 위치는 **뷰포트 경계 내로 클램핑** (잘림 방지)
- MutationObserver는 콘텐츠 컨테이너만 관찰 (body 관찰 시 무한루프 방지)
- 핀 모드 리사이징은 `width: calc(100vw - 480px)` 방식 사용 (margin-right 대신)
